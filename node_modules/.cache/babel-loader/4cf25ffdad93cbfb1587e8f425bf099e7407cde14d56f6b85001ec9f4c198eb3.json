{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\manas\\\\bookreview\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\n\n// match your Spring Boot base path\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = \"http://localhost:8080\";\nfunction App() {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [selectedBookId, setSelectedBookId] = useState(null);\n  const [bookForm, setBookForm] = useState({\n    title: \"\",\n    author: \"\",\n    genre: \"\",\n    year: \"\",\n    description: \"\"\n  });\n  const [reviewForm, setReviewForm] = useState({\n    reviewerName: \"\",\n    rating: \"\",\n    comment: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"books\"); // \"books\" | \"reviews\"\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n  const fetchBooks = async () => {\n    try {\n      setLoading(true);\n      setErrorMessage(\"\");\n      const res = await fetch(`${API_BASE_URL}/books`);\n      if (!res.ok) {\n        const text = await res.text();\n        throw new Error(`Fetch books failed: ${res.status} - ${text}`);\n      }\n      const data = await res.json();\n      setBooks(data);\n    } catch (err) {\n      console.error(err);\n      setErrorMessage(\"Failed to load books. Check if backend is running.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const resetBookForm = () => {\n    setBookForm({\n      title: \"\",\n      author: \"\",\n      genre: \"\",\n      year: \"\",\n      description: \"\"\n    });\n    setSelectedBookId(null);\n  };\n  const handleBookChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setBookForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleReviewChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setReviewForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleBookSubmit = async e => {\n    e.preventDefault();\n    setErrorMessage(\"\");\n    const payload = {\n      ...bookForm,\n      year: bookForm.year ? Number(bookForm.year) : null\n    };\n    try {\n      setLoading(true);\n      const url = selectedBookId ? `${API_BASE_URL}/books/${selectedBookId}` : `${API_BASE_URL}/books`;\n      const res = await fetch(url, {\n        method: selectedBookId ? \"PUT\" : \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(payload)\n      });\n      console.log(\"Create/Update response status:\", res.status);\n      if (!res.ok) {\n        const text = await res.text();\n        console.error(\"Error body:\", text);\n        throw new Error(`Failed to save book: ${res.status}`);\n      }\n      await fetchBooks();\n      resetBookForm();\n    } catch (err) {\n      console.error(err);\n      setErrorMessage(\"Could not save book. Check API URL, controller mapping and CORS.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleEditBook = book => {\n    setSelectedBookId(book.id);\n    setBookForm({\n      title: book.title || \"\",\n      author: book.author || \"\",\n      genre: book.genre || \"\",\n      year: book.year || \"\",\n      description: book.description || \"\"\n    });\n    setActiveTab(\"books\");\n  };\n  const handleDeleteBook = async id => {\n    if (!window.confirm(\"Delete this book?\")) return;\n    setErrorMessage(\"\");\n    try {\n      setLoading(true);\n      const res = await fetch(`${API_BASE_URL}/books/${id}`, {\n        method: \"DELETE\"\n      });\n      if (!res.ok) {\n        const text = await res.text();\n        console.error(\"Delete error:\", text);\n        throw new Error(`Delete failed: ${res.status}`);\n      }\n      await fetchBooks();\n    } catch (err) {\n      console.error(err);\n      setErrorMessage(\"Could not delete book. Check backend logs.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleReviewSubmit = async (e, bookId) => {\n    e.preventDefault();\n    setErrorMessage(\"\");\n    const payload = {\n      ...reviewForm,\n      rating: reviewForm.rating ? Number(reviewForm.rating) : null\n    };\n    try {\n      setLoading(true);\n      const res = await fetch(`${API_BASE_URL}/books/${bookId}/reviews`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(payload)\n      });\n      console.log(\"Review response status:\", res.status);\n      if (!res.ok) {\n        const text = await res.text();\n        console.error(\"Review error:\", text);\n        throw new Error(`Failed to add review: ${res.status}`);\n      }\n      await fetchBooks();\n      setReviewForm({\n        reviewerName: \"\",\n        rating: \"\",\n        comment: \"\"\n      });\n    } catch (err) {\n      console.error(err);\n      setErrorMessage(\"Could not add review. Check review endpoint and JSON format.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const averageRating = (reviews = []) => {\n    if (!reviews || reviews.length === 0) return \"No ratings yet\";\n    const sum = reviews.reduce((acc, r) => acc + (r.rating || 0), 0);\n    return `${(sum / reviews.length).toFixed(1)} ★`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-root\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-logo\",\n        children: \"BookVerse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"app-nav\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `nav-tab ${activeTab === \"books\" ? \"nav-tab--active\" : \"\"}`,\n          onClick: () => setActiveTab(\"books\"),\n          children: \"Books\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `nav-tab ${activeTab === \"reviews\" ? \"nav-tab--active\" : \"\"}`,\n          onClick: () => setActiveTab(\"reviews\"),\n          children: \"Reviews\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-error\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"app-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"panel panel--left\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"panel-title\",\n          children: selectedBookId ? \"Edit Book\" : \"Add a Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form\",\n          onSubmit: handleBookSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"title\",\n              value: bookForm.title,\n              onChange: handleBookChange,\n              placeholder: \"Eg: Atomic Habits\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Author\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"author\",\n              value: bookForm.author,\n              onChange: handleBookChange,\n              placeholder: \"James Clear\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Genre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"genre\",\n                value: bookForm.genre,\n                onChange: handleBookChange,\n                placeholder: \"Self-help, Fiction...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Year\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"year\",\n                value: bookForm.year,\n                onChange: handleBookChange,\n                placeholder: \"2018\",\n                min: \"0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"description\",\n              value: bookForm.description,\n              onChange: handleBookChange,\n              placeholder: \"Short description of the book...\",\n              rows: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn--primary\",\n              disabled: loading,\n              children: selectedBookId ? \"Update Book\" : \"Create Book\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this), selectedBookId && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn--ghost\",\n              onClick: resetBookForm,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"panel panel--right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"panel-title\",\n            children: \"Library\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), loading && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge badge--muted\",\n            children: \"Syncing\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), books.length === 0 && !loading && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"empty-state\",\n          children: \"No books yet. Start by adding one.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"book-grid\",\n          children: books.map(book => /*#__PURE__*/_jsxDEV(\"article\", {\n            className: \"book-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"book-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"book-title\",\n                  children: book.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"book-author\",\n                  children: [\"by \", book.author]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"book-rating\",\n                children: averageRating(book.reviews)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"book-meta\",\n              children: [book.genre && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: book.genre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 34\n              }, this), book.year && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u2022 \", book.year]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this), book.description && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"book-description\",\n              children: book.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"book-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn--small\",\n                onClick: () => handleEditBook(book),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn--small btn--danger\",\n                onClick: () => handleDeleteBook(book.id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this), activeTab === \"reviews\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reviews-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"reviews-title\",\n                children: \"Reviews\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"review-list\",\n                children: [(book.reviews || []).map(rev => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"review-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"review-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"reviewer\",\n                      children: rev.reviewerName || \"Anonymous\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"review-rating\",\n                      children: [rev.rating, \" \\u2605\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"review-comment\",\n                    children: rev.comment\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 27\n                  }, this)]\n                }, rev.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 25\n                }, this)), (book.reviews || []).length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"review-empty\",\n                  children: \"No reviews yet. Be the first to add one.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                className: \"form form--inline\",\n                onSubmit: e => handleReviewSubmit(e, book.id),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"reviewerName\",\n                    value: reviewForm.reviewerName,\n                    onChange: handleReviewChange,\n                    placeholder: \"Your name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    name: \"rating\",\n                    value: reviewForm.rating,\n                    onChange: handleReviewChange,\n                    placeholder: \"Rating\",\n                    min: \"1\",\n                    max: \"5\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 386,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    name: \"comment\",\n                    value: reviewForm.comment,\n                    onChange: handleReviewChange,\n                    placeholder: \"Write a short review...\",\n                    rows: 2,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn--primary btn--small\",\n                  disabled: loading,\n                  children: \"Add Review\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 19\n            }, this)]\n          }, book.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"app-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"BookVerse Reviews \\xB7 Built with React\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"r+gBbK6HtrKlBq5JYgeJE/DTcJk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","API_BASE_URL","App","_s","books","setBooks","selectedBookId","setSelectedBookId","bookForm","setBookForm","title","author","genre","year","description","reviewForm","setReviewForm","reviewerName","rating","comment","loading","setLoading","activeTab","setActiveTab","errorMessage","setErrorMessage","fetchBooks","res","fetch","ok","text","Error","status","data","json","err","console","error","resetBookForm","handleBookChange","e","name","value","target","prev","handleReviewChange","handleBookSubmit","preventDefault","payload","Number","url","method","headers","body","JSON","stringify","log","handleEditBook","book","id","handleDeleteBook","window","confirm","handleReviewSubmit","bookId","averageRating","reviews","length","sum","reduce","acc","r","toFixed","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","onChange","placeholder","required","type","min","rows","disabled","map","rev","max","_c","$RefreshReg$"],"sources":["C:/Users/manas/bookreview/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\n\n// match your Spring Boot base path\nconst API_BASE_URL = \"http://localhost:8080\";\n\nfunction App() {\n  const [books, setBooks] = useState([]);\n  const [selectedBookId, setSelectedBookId] = useState(null);\n  const [bookForm, setBookForm] = useState({\n    title: \"\",\n    author: \"\",\n    genre: \"\",\n    year: \"\",\n    description: \"\",\n  });\n  const [reviewForm, setReviewForm] = useState({\n    reviewerName: \"\",\n    rating: \"\",\n    comment: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"books\"); // \"books\" | \"reviews\"\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n\n  const fetchBooks = async () => {\n    try {\n      setLoading(true);\n      setErrorMessage(\"\");\n      const res = await fetch(`${API_BASE_URL}/books`);\n      if (!res.ok) {\n        const text = await res.text();\n        throw new Error(`Fetch books failed: ${res.status} - ${text}`);\n      }\n      const data = await res.json();\n      setBooks(data);\n    } catch (err) {\n      console.error(err);\n      setErrorMessage(\"Failed to load books. Check if backend is running.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const resetBookForm = () => {\n    setBookForm({\n      title: \"\",\n      author: \"\",\n      genre: \"\",\n      year: \"\",\n      description: \"\",\n    });\n    setSelectedBookId(null);\n  };\n\n  const handleBookChange = (e) => {\n    const { name, value } = e.target;\n    setBookForm((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleReviewChange = (e) => {\n    const { name, value } = e.target;\n    setReviewForm((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleBookSubmit = async (e) => {\n    e.preventDefault();\n    setErrorMessage(\"\");\n\n    const payload = {\n      ...bookForm,\n      year: bookForm.year ? Number(bookForm.year) : null,\n    };\n\n    try {\n      setLoading(true);\n      const url = selectedBookId\n        ? `${API_BASE_URL}/books/${selectedBookId}`\n        : `${API_BASE_URL}/books`;\n\n      const res = await fetch(url, {\n        method: selectedBookId ? \"PUT\" : \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(payload),\n      });\n\n      console.log(\"Create/Update response status:\", res.status);\n      if (!res.ok) {\n        const text = await res.text();\n        console.error(\"Error body:\", text);\n        throw new Error(`Failed to save book: ${res.status}`);\n      }\n\n      await fetchBooks();\n      resetBookForm();\n    } catch (err) {\n      console.error(err);\n      setErrorMessage(\n        \"Could not save book. Check API URL, controller mapping and CORS.\"\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditBook = (book) => {\n    setSelectedBookId(book.id);\n    setBookForm({\n      title: book.title || \"\",\n      author: book.author || \"\",\n      genre: book.genre || \"\",\n      year: book.year || \"\",\n      description: book.description || \"\",\n    });\n    setActiveTab(\"books\");\n  };\n\n  const handleDeleteBook = async (id) => {\n    if (!window.confirm(\"Delete this book?\")) return;\n    setErrorMessage(\"\");\n    try {\n      setLoading(true);\n      const res = await fetch(`${API_BASE_URL}/books/${id}`, {\n        method: \"DELETE\",\n      });\n      if (!res.ok) {\n        const text = await res.text();\n        console.error(\"Delete error:\", text);\n        throw new Error(`Delete failed: ${res.status}`);\n      }\n      await fetchBooks();\n    } catch (err) {\n      console.error(err);\n      setErrorMessage(\"Could not delete book. Check backend logs.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleReviewSubmit = async (e, bookId) => {\n    e.preventDefault();\n    setErrorMessage(\"\");\n\n    const payload = {\n      ...reviewForm,\n      rating: reviewForm.rating ? Number(reviewForm.rating) : null,\n    };\n\n    try {\n      setLoading(true);\n      const res = await fetch(`${API_BASE_URL}/books/${bookId}/reviews`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(payload),\n      });\n\n      console.log(\"Review response status:\", res.status);\n      if (!res.ok) {\n        const text = await res.text();\n        console.error(\"Review error:\", text);\n        throw new Error(`Failed to add review: ${res.status}`);\n      }\n\n      await fetchBooks();\n      setReviewForm({\n        reviewerName: \"\",\n        rating: \"\",\n        comment: \"\",\n      });\n    } catch (err) {\n      console.error(err);\n      setErrorMessage(\n        \"Could not add review. Check review endpoint and JSON format.\"\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const averageRating = (reviews = []) => {\n    if (!reviews || reviews.length === 0) return \"No ratings yet\";\n    const sum = reviews.reduce((acc, r) => acc + (r.rating || 0), 0);\n    return `${(sum / reviews.length).toFixed(1)} ★`;\n  };\n\n  return (\n    <div className=\"app-root\">\n      <header className=\"app-header\">\n        <div className=\"app-logo\">BookVerse</div>\n        <nav className=\"app-nav\">\n          <button\n            className={`nav-tab ${\n              activeTab === \"books\" ? \"nav-tab--active\" : \"\"\n            }`}\n            onClick={() => setActiveTab(\"books\")}\n          >\n            Books\n          </button>\n          <button\n            className={`nav-tab ${\n              activeTab === \"reviews\" ? \"nav-tab--active\" : \"\"\n            }`}\n            onClick={() => setActiveTab(\"reviews\")}\n          >\n            Reviews\n          </button>\n        </nav>\n      </header>\n\n      {errorMessage && (\n        <div className=\"app-error\">\n          {errorMessage}\n        </div>\n      )}\n\n      <main className=\"app-main\">\n        <section className=\"panel panel--left\">\n          <h2 className=\"panel-title\">\n            {selectedBookId ? \"Edit Book\" : \"Add a Book\"}\n          </h2>\n          <form className=\"form\" onSubmit={handleBookSubmit}>\n            <div className=\"form-group\">\n              <label>Title</label>\n              <input\n                name=\"title\"\n                value={bookForm.title}\n                onChange={handleBookChange}\n                placeholder=\"Eg: Atomic Habits\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Author</label>\n              <input\n                name=\"author\"\n                value={bookForm.author}\n                onChange={handleBookChange}\n                placeholder=\"James Clear\"\n                required\n              />\n            </div>\n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>Genre</label>\n                <input\n                  name=\"genre\"\n                  value={bookForm.genre}\n                  onChange={handleBookChange}\n                  placeholder=\"Self-help, Fiction...\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Year</label>\n                <input\n                  type=\"number\"\n                  name=\"year\"\n                  value={bookForm.year}\n                  onChange={handleBookChange}\n                  placeholder=\"2018\"\n                  min=\"0\"\n                />\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <label>Description</label>\n              <textarea\n                name=\"description\"\n                value={bookForm.description}\n                onChange={handleBookChange}\n                placeholder=\"Short description of the book...\"\n                rows={3}\n              />\n            </div>\n\n            <div className=\"form-actions\">\n              <button\n                type=\"submit\"\n                className=\"btn btn--primary\"\n                disabled={loading}\n              >\n                {selectedBookId ? \"Update Book\" : \"Create Book\"}\n              </button>\n              {selectedBookId && (\n                <button\n                  type=\"button\"\n                  className=\"btn btn--ghost\"\n                  onClick={resetBookForm}\n                >\n                  Cancel\n                </button>\n              )}\n            </div>\n          </form>\n        </section>\n\n        <section className=\"panel panel--right\">\n          <div className=\"panel-header\">\n            <h2 className=\"panel-title\">Library</h2>\n            {loading && <span className=\"badge badge--muted\">Syncing…</span>}\n          </div>\n\n          {books.length === 0 && !loading && (\n            <p className=\"empty-state\">No books yet. Start by adding one.</p>\n          )}\n\n          <div className=\"book-grid\">\n            {books.map((book) => (\n              <article key={book.id} className=\"book-card\">\n                <div className=\"book-header\">\n                  <div>\n                    <h3 className=\"book-title\">{book.title}</h3>\n                    <p className=\"book-author\">by {book.author}</p>\n                  </div>\n                  <span className=\"book-rating\">\n                    {averageRating(book.reviews)}\n                  </span>\n                </div>\n\n                <p className=\"book-meta\">\n                  {book.genre && <span>{book.genre}</span>}\n                  {book.year && <span>• {book.year}</span>}\n                </p>\n\n                {book.description && (\n                  <p className=\"book-description\">{book.description}</p>\n                )}\n\n                <div className=\"book-actions\">\n                  <button\n                    className=\"btn btn--small\"\n                    onClick={() => handleEditBook(book)}\n                  >\n                    Edit\n                  </button>\n                  <button\n                    className=\"btn btn--small btn--danger\"\n                    onClick={() => handleDeleteBook(book.id)}\n                  >\n                    Delete\n                  </button>\n                </div>\n\n                {activeTab === \"reviews\" && (\n                  <div className=\"reviews-section\">\n                    <h4 className=\"reviews-title\">Reviews</h4>\n                    <ul className=\"review-list\">\n                      {(book.reviews || []).map((rev) => (\n                        <li key={rev.id} className=\"review-item\">\n                          <div className=\"review-header\">\n                            <span className=\"reviewer\">\n                              {rev.reviewerName || \"Anonymous\"}\n                            </span>\n                            <span className=\"review-rating\">\n                              {rev.rating} ★\n                            </span>\n                          </div>\n                          <p className=\"review-comment\">{rev.comment}</p>\n                        </li>\n                      ))}\n                      {(book.reviews || []).length === 0 && (\n                        <li className=\"review-empty\">\n                          No reviews yet. Be the first to add one.\n                        </li>\n                      )}\n                    </ul>\n\n                    <form\n                      className=\"form form--inline\"\n                      onSubmit={(e) => handleReviewSubmit(e, book.id)}\n                    >\n                      <div className=\"form-row\">\n                        <input\n                          name=\"reviewerName\"\n                          value={reviewForm.reviewerName}\n                          onChange={handleReviewChange}\n                          placeholder=\"Your name\"\n                        />\n                        <input\n                          type=\"number\"\n                          name=\"rating\"\n                          value={reviewForm.rating}\n                          onChange={handleReviewChange}\n                          placeholder=\"Rating\"\n                          min=\"1\"\n                          max=\"5\"\n                          required\n                        />\n                      </div>\n                      <div className=\"form-group\">\n                        <textarea\n                          name=\"comment\"\n                          value={reviewForm.comment}\n                          onChange={handleReviewChange}\n                          placeholder=\"Write a short review...\"\n                          rows={2}\n                          required\n                        />\n                      </div>\n                      <button\n                        type=\"submit\"\n                        className=\"btn btn--primary btn--small\"\n                        disabled={loading}\n                      >\n                        Add Review\n                      </button>\n                    </form>\n                  </div>\n                )}\n              </article>\n            ))}\n          </div>\n        </section>\n      </main>\n\n      <footer className=\"app-footer\">\n        <span>BookVerse Reviews · Built with React</span>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}